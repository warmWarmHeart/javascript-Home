#测试

> **测试框架实现的核心是 断言（创建一个方法，传入结果和预期匹配后要显示的内容）**

最简单通用的 比如console.assert(true, '这是个正确的结果')

## 流行的测试框架
   **测试框架应该是基本的开发流程的一部分，所以你应该选择适合你
的编程风格和代码库的测试框架。JavaScript测试框架只需要完成：显示
测试结果，并且可以确定哪些测试已经通过，哪些已经失败。测试框架
可以帮助我们达到这一目的，而不必担心创建测试和测试集合（测试套
件）之外的内容。**

>在JavaScript单元测试框架中，根据测试的需要，我们需要几个功能。具体如下：

* 模拟浏览器行为的能力（单击、按钮等）。
* 交互式控制测试（暂停、继续测试）。
* 处理异步测试超时。
* 能够过滤已经执行过的测试用例。

>一般测试框架都会将测试分层化：

* 测试集 一个js可以有多个测试集
* 测试用例  一个测试集可以有多个测试用例
* 断言   一个测试用例可以包含多个断言

Jasmine例子

    function sayHiToNinja(ninja) { // 定义我们希望测试的函数
    	return "Hi " + ninja;
    }
    describe("Say Hi Suite", function() { // 定义一个为“Say Hi Suite”的测试集
    	it("should say hi to a ninja", function() { // 指定一个检查函数的测试用例
    		expect(sayHiToNinja("Hatori")).toBe("Hi Hatori"); // 断言我们的函数执行结果符合预期
    	});
    	it("should fail", function() {
    		expect(false).toBe(true); // 特意另其执行失败
    	})
    });

## 代码覆盖率测量
> 很难评价测试用例集合的优劣。理想情况下，我们应该测试程序所
有可能执行的路径。而通常除了最简单的情况，是很难做到的。一种可
行的方式是尽可能地测试代码，测试用例集合的代码量称为代码覆盖
率。

> 例如，假设一个测试用例集合有80%的代码覆盖率，也就是说可执
行到80%的代码，而不是20%。虽然我们不能完全确定这80%的代码无
bug(我们可能错过了一个执行路径)，但20%仍然未经测试。这就是为什
么需要测量代码覆盖率的原因。